import{n as W,o as B,r as p,p as J,j as e,q as K,t as q,v as Q,l as N,u as E,s as A,b as M,d as l,a as X,g as C,a5 as b,h as ee,k as ne,R as ae,f as se,S as te}from"./index-zYzetZ4o.js";import{B as ie}from"./BackBtn-DSKnzHrA.js";import{P as _}from"./Paper-D8E6V0rk.js";import{d as oe,T as w,c as f,b as c,a as T}from"./TableRow-C73r15fA.js";import{T as y}from"./TableContainer-C6gGjPmB.js";import{P as F}from"./GlobalStyled-DvQlYWR9.js";import{T as re}from"./Tooltip-C58RplVQ.js";import"./useTheme-GgSq-g9R.js";import"./useTheme-kp5HLE0Q.js";import"./useSlot-BtpvnbCk.js";import"./ownerDocument-DW-IO8s5.js";function le(n){return W("MuiTableHead",n)}B("MuiTableHead",["root"]);const ce=n=>{const{classes:a}=n;return Q({root:["root"]},le,a)},de=K("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(n,a)=>a.root})({display:"table-header-group"}),me={variant:"head"},S="thead",R=p.forwardRef(function(a,s){const t=J({props:a,name:"MuiTableHead"}),{className:d,component:o=S,...r}=t,i={...t,component:o},m=ce(i);return e.jsx(oe.Provider,{value:me,children:e.jsx(de,{as:o,className:q(m.root,d),ref:s,role:o===S?null:"rowgroup",ownerState:i,...r})})}),he={TOP_PLAYERS:"Top players of last SEs",DAMAGE_DECREASE:"Damage decrease",ZERO_DAMAGE:"Zero damage at last SE",JINNI_COEF:"Disbalance factor",FORMULA:"Equation:",WHERE:"where",COUNT:"— number of players.",DAMAGE:"— player`s damage",AVERAGE_DAMAGE:"— average damage",AVERAGE_COUNT:"arithmetic average",SMALL:"0.2−0.3: Damage is distributed fairly evenly.",MEDIUM:"0.5: Moderate inequality. There are a few players with significantly larger contributions, but the others also make a noticeable impact.",HARD:'0.8−1.0: Severe inequality. Damage is mainly concentrated among one or a few "top" players, while the rest have almost no impact on the overall result.',DATE:"Date",TOP:"Top 1,2,3",PERCENT:"% of overall damage",JINNI:"The Gini coefficient.",DAMAGE_GUILD:"Guild damage, B",CHANGES:"Changes",INCREASE:"Increased by",DECREASE:"Decreased by",DAY:"Day",LAST_ZVEK:"Last SE Damage, T",ALL_PLAYERS_HAVE_DAMAGED:"All players damaged in all days"},pe={TOP_PLAYERS:"Топ гравці останніх Звек",DAMAGE_DECREASE:"Зниження урону",ZERO_DAMAGE:"Нульовий урон останнього ЗВЕК",JINNI_COEF:"Коефіцієнт дисбалансу",FORMULA:"Формула:",WHERE:"де",COUNT:"— кількість гравців.",DAMAGE:"— пошкодження гравця",AVERAGE_DAMAGE:"— середні пошкодження",AVERAGE_COUNT:"середнє арифметичне",SMALL:"0.2−0.3: Шкода розподілена досить рівномірно.",MEDIUM:"0.5: Помірна нерівність. Є кілька гравців із помітно більшим внеском, та решта теж вносять відчутний внесок.",HARD:'0.8−1.0: Сильна нерівність. Шкода в основному зосереджена в одного чи кількох "топових" гравців, решта майже не впливає на загальний результат.',DATE:"Дата",TOP:"Топ 1,2,3",PERCENT:"% від усієї шкоди",JINNI:"Коефіцієнт Джинні",DAMAGE_GUILD:"Шкода гільдії, T",CHANGES:"Зміна",INCREASE:"Збільшився на",DECREASE:"Зменшився на",DAY:"День",LAST_ZVEK:"Урон прошлого ЗВЭК (млрд)",ALL_PLAYERS_HAVE_DAMAGED:"Всі гравці нанесли урон у всі дні"},ge={TOP_PLAYERS:"Топ игроки последних Звэк",DAMAGE_DECREASE:"Снижение урона",ZERO_DAMAGE:"Нулевой дамаг последнего Звэк",JINNI_COEF:"Коэффициент дисбаланса",FORMULA:"Формула:",WHERE:"где",COUNT:"— количество игроков.",DAMAGE:"— урон игрока",AVERAGE_DAMAGE:"— средний урон",AVERAGE_COUNT:"среднее арифметическое",SMALL:"0.2−0.3: Урон распределён довольно равномерно.",MEDIUM:"0.5: Умеренное неравенство. Есть несколько игроков с заметно большим вкладом, но остальные тоже вносят ощутимый вклад.",HARD:'0.8−1.0: Сильное неравенство. Урон в основном сосредоточен у одного или нескольких "топовых" игроков, остальные почти не влияют на общий результат.',DATE:"Дата",TOP:"Топ 1,2,3",PERCENT:"% от всего урона",JINNI:"Коэффициент Джинни",DAMAGE_GUILD:"Урон гильдии, T",CHANGES:"Изменение",INCREASE:"Увеличился на",DECREASE:"Уменьшился на",DAY:"День",LAST_ZVEK:"Урон прошлого ЗВЭК (млрд)",ALL_PLAYERS_HAVE_DAMAGED:"Все игроки нанесли урон во все дни"},xe={en:he,uk:pe,ru:ge},j=n=>xe[n],ue=n=>n.reduce((a,s)=>a+n.reduce((t,d)=>t+Math.abs(s-d),0),0)/(2*n.length**2*n.reduce((a,s)=>a+s,0)/n.length),L=()=>N.reduce((n,{name:a,info:s})=>{var d;const t=(d=s[s.length-1])==null?void 0:d.damageByDay.reduce((o,r,i)=>(r===0&&o.push(i+1),o),[]);return t.length>0&&n.push({name:a,zeroDays:t}),n},[]),Ee=()=>{const{language:n}=E(A),{DATE:a,DAMAGE_GUILD:s,CHANGES:t}=j(n),{NO_DATA:d,GUILD_RATING:o,NEWBIES:r}=M(n),i=[a,s,t,o,r];return e.jsx(Ae,{component:_,children:e.jsxs(w,{children:[e.jsx(R,{children:e.jsx(v,{children:i.map(m=>e.jsx(je,{children:m},m))})}),e.jsx(f,{children:X().map(({total:m,percentageChange:g,date:x},h)=>{var D;const u=h>0?g===null?d:`${g>0?">":"<"} ${Math.abs(g).toFixed(2)}%`:"—";return e.jsxs(v,{children:[e.jsx(c,{align:"center",children:x}),e.jsx(c,{align:"center",children:(m/1e12).toFixed(2)}),e.jsx(c,{align:"center",children:e.jsx(P,{value:g,children:u})}),e.jsx(c,{align:"center",children:e.jsx(P,{value:((D=C[h-1])==null?void 0:D.rate)-C[h].rate,children:C[h].rate})}),e.jsx(c,{align:"center",children:e.jsx(De,{value:C[h].newbies,children:C[h].newbies})})]},`guild-${h}`)})})]})})},Ae=l(y).withConfig({displayName:"DamageGrow__Container",componentId:"sc-41v99b-0"})(["&.MuiPaper-root{margin:0 1rem;width:calc(100% - 2rem);}"]),v=l(T).withConfig({displayName:"DamageGrow__Row",componentId:"sc-41v99b-1"})(["&.MuiTableRow-root{display:grid;grid-template-columns:repeat(5,1fr);}"]),je=l(c).withConfig({displayName:"DamageGrow__HCell",componentId:"sc-41v99b-2"})(["&.MuiTableCell-root{",";text-align:center;}"],b),P=l.span.withConfig({displayName:"DamageGrow__ChangeText",componentId:"sc-41v99b-3"})(["color:",";"],({value:n,theme:{colors:{red100:a,green100:s,gray100:t}}})=>n===null||n===0?t:n>0?s:n<0?a:t),De=l.span.withConfig({displayName:"DamageGrow__NewbiesText",componentId:"sc-41v99b-4"})(["color:",";"],({value:n,theme:{colors:{green100:a,gray100:s}}})=>n===0?s:a),Ce=()=>{const{language:n}=E(A),{LAST_ZVEK:a,DECREASE:s}=j(n),{NICKNAME:t,LATEST_ZVEK:d}=M(n),o=p.useMemo(()=>N.reduce((i,{name:m,info:g})=>{const[x,h]=g.slice(-2),u=(h.damage-x.damage)/x.damage*100;return u<0&&i.push({name:m,damageLastZvek:h.damage,damagePreviousZvek:x.damage,percentageChange:u}),i},[]),[]),r=p.useMemo(()=>[t,a,d,s],[t,a,d,s]);return e.jsx(_e,{component:_,children:o.length?e.jsxs(w,{children:[e.jsx(R,{children:e.jsx(H,{children:r.map(i=>e.jsx(we,{align:"center",children:i},i))})}),e.jsx(f,{children:o.map(({name:i,damagePreviousZvek:m,damageLastZvek:g,percentageChange:x})=>{const h=`< на ${Math.abs(x).toFixed(2)}%`;return e.jsxs(H,{children:[e.jsx(c,{align:"center",children:i}),e.jsx(c,{align:"center",children:(m/1e9).toFixed(2)}),e.jsx(c,{align:"center",children:(g/1e9).toFixed(2)}),e.jsx(c,{align:"center",children:e.jsx(fe,{percentage:x,children:h})})]},i)})})]}):e.jsx(Te,{children:"У всех игроков урон вырос"})})},_e=l(y).withConfig({displayName:"DamageDecrease__Container",componentId:"sc-1keoygd-0"})(["&.MuiPaper-root{margin:0 1rem;width:calc(100% - 2rem);}"]),H=l(T).withConfig({displayName:"DamageDecrease__Row",componentId:"sc-1keoygd-1"})(["&.MuiTableRow-root{display:grid;grid-template-columns:repeat(4,1fr);}"]),we=l(c).withConfig({displayName:"DamageDecrease__HCell",componentId:"sc-1keoygd-2"})(["&.MuiTableCell-root{",";text-align:center;}"],b),fe=l.span.withConfig({displayName:"DamageDecrease__ChangeText",componentId:"sc-1keoygd-3"})(["color:",";"],({percentage:n,theme:{colors:{red100:a,green100:s,gray100:t}}})=>n===null||n===0?t:n>0?s:a),Te=l.div.withConfig({displayName:"DamageDecrease__Plug",componentId:"sc-1keoygd-4"})(["",";color:",";text-align:center;"],F,({theme:n})=>n.colors.green100),ye=()=>{const{language:n}=E(A),{DATE:a,TOP:s,PERCENT:t}=j(n),d=[a,s,t];return e.jsx(Re,{component:_,children:e.jsxs(w,{children:[e.jsx(R,{children:e.jsx(O,{children:d.map(o=>e.jsx(c,{align:"center",children:e.jsx("b",{children:o})},o))})}),e.jsx(f,{children:ee(3).map(({date:o,topPlayers:r,topDamagePercentage:i},m)=>e.jsxs(O,{children:[e.jsx(c,{align:"center",children:o}),e.jsx(c,{align:"center",children:r.join(", ")}),e.jsxs(c,{align:"center",children:[i.toFixed(2),"%"]})]},m))})]})})},Re=l(y).withConfig({displayName:"TopPlayers__Container",componentId:"sc-st7g64-0"})(["&.MuiPaper-root{margin:0 1rem;width:calc(100% - 2rem);}"]),O=l(T).withConfig({displayName:"TopPlayers__Row",componentId:"sc-st7g64-1"})(["&.MuiTableRow-root{display:grid;grid-template-columns:repeat(3,1fr);}"]),Ne=()=>{const{language:n}=E(A),{DAY:a,ALL_PLAYERS_HAVE_DAMAGED:s}=j(n),{NICKNAME:t}=M(n),d=p.useMemo(()=>[t,a],[a,t]);return e.jsx(Me,{component:_,children:L().length?e.jsxs(w,{children:[e.jsx(R,{children:e.jsx(V,{children:d.map(o=>e.jsx(be,{children:o},o))})}),e.jsx(f,{children:L().map(({name:o,zeroDays:r})=>e.jsxs(V,{children:[e.jsx(c,{align:"center",children:o}),e.jsx(c,{align:"center",children:e.jsx(Ge,{children:r.map(i=>`${i}й`).join(", ")})})]},o))})]}):e.jsx(Ie,{children:s})})},Me=l(y).withConfig({displayName:"ZeroDamage__Container",componentId:"sc-2a0xam-0"})(["&.MuiPaper-root{margin:0 1rem;width:calc(100% - 2rem);}"]),V=l(T).withConfig({displayName:"ZeroDamage__Row",componentId:"sc-2a0xam-1"})(["&.MuiTableRow-root{display:grid;grid-template-columns:repeat(2,1fr);}"]),be=l(c).withConfig({displayName:"ZeroDamage__HCell",componentId:"sc-2a0xam-2"})(["&.MuiTableCell-root{",";text-align:center;}"],b),Ie=l.div.withConfig({displayName:"ZeroDamage__Plug",componentId:"sc-2a0xam-3"})(["",";color:",";text-align:center;"],F,({theme:n})=>n.colors.green100),Ge=l.div.withConfig({displayName:"ZeroDamage__Skipped",componentId:"sc-2a0xam-4"})(["color:",";"],({theme:n})=>n.colors.red100),Se=()=>{const{language:n}=E(A),a=p.useMemo(()=>Array.from(new Set(N.flatMap(({info:r})=>r.map(({date:i})=>i)))).filter(r=>r!=="xx.xx"),[]),s=p.useMemo(()=>a.map(r=>({date:r,gini:ue(N.map(({info:i})=>{var m;return((m=i.find(g=>g.date===r))==null?void 0:m.damage)||0}))})),[a]),{DATE:t,JINNI:d}=j(n),o=[t,d];return e.jsx(Le,{component:_,children:e.jsxs(w,{children:[e.jsx(R,{children:e.jsx(U,{children:o.map(r=>e.jsx(ve,{children:r},r))})}),e.jsx(f,{children:s.map(({date:r,gini:i})=>e.jsxs(U,{children:[e.jsx(c,{align:"center",children:r}),e.jsx(c,{align:"center",children:i.toFixed(4)})]},r))})]})})},Le=l(y).withConfig({displayName:"Djinni__Container",componentId:"sc-1up8764-0"})(["&.MuiPaper-root{margin:0 1rem;width:calc(100% - 2rem);}"]),U=l(T).withConfig({displayName:"Djinni__Row",componentId:"sc-1up8764-1"})(["&.MuiTableRow-root{display:grid;grid-template-columns:repeat(2,1fr);}"]),ve=l(c).withConfig({displayName:"Djinni__HCell",componentId:"sc-1up8764-2"})(["&.MuiTableCell-root{",";text-align:center;}"],b),Pe=({title:n,titleId:a,...s},t)=>p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 512 512",ref:t,"aria-labelledby":a,...s},n?p.createElement("title",{id:a},n):null,p.createElement("path",{fillRule:"nonzero",d:"M256 0c70.691 0 134.695 28.656 181.021 74.979C483.344 121.305 512 185.309 512 256c0 70.691-28.656 134.695-74.979 181.018C390.695 483.344 326.691 512 256 512c-70.691 0-134.695-28.656-181.018-74.982C28.656 390.695 0 326.691 0 256S28.656 121.305 74.982 74.979C121.305 28.656 185.309 0 256 0zm-10.029 160.379c0-4.319.761-8.315 2.282-11.988 1.515-3.66 3.797-6.994 6.836-9.98 3.028-2.98 6.341-5.241 9.916-6.758 3.593-1.511 7.463-2.282 11.603-2.282 4.143 0 8.006.771 11.564 2.278 3.561 1.521 6.828 3.782 9.808 6.779 2.976 2.987 5.212 6.31 6.695 9.973 1.489 3.663 2.236 7.659 2.236 11.978 0 4.195-.739 8.128-2.229 11.767-1.483 3.631-3.709 6.993-6.692 10.046-2.965 3.043-6.232 5.342-9.79 6.878-3.569 1.528-7.432 2.306-11.592 2.306-4.259 0-8.206-.764-11.834-2.278-3.604-1.522-6.913-3.807-9.892-6.832-2.973-3.046-5.209-6.383-6.685-10.032-1.486-3.646-2.226-7.596-2.226-11.855zm13.492 179.381c-1.118 4.002-3.375 11.837 3.316 11.837 1.451 0 3.299-.81 5.5-2.412 2.387-1.721 5.125-4.336 8.192-7.799 3.116-3.53 6.362-7.701 9.731-12.507 3.358-4.795 6.888-10.292 10.561-16.419a1.39 1.39 0 011.907-.484l12.451 9.237c.593.434.729 1.262.34 1.878-5.724 9.952-11.512 18.642-17.362 26.056-5.899 7.466-11.879 13.66-17.936 18.553l-.095.07c-6.057 4.908-12.269 8.602-18.634 11.077-17.713 6.86-45.682 5.742-53.691-14.929-5.062-13.054-.897-27.885 3.085-40.651l20.089-60.852c1.286-4.617 2.912-9.682 3.505-14.439.974-7.915-2.52-13.032-11.147-13.032h-17.562a1.402 1.402 0 01-1.395-1.399l.077-.484 4.617-16.801a1.39 1.39 0 011.356-1.02l89.743-2.815a1.39 1.39 0 011.434 1.34l-.063.445-38.019 125.55zm151.324-238.547C371.178 61.606 316.446 37.101 256 37.101c-60.446 0-115.174 24.501-154.784 64.112C61.606 140.822 37.101 195.554 37.101 256c0 60.446 24.505 115.178 64.115 154.784 39.606 39.61 94.338 64.115 154.784 64.115s115.178-24.505 154.787-64.115c39.611-39.61 64.112-94.338 64.112-154.784s-24.505-115.178-64.112-154.787z"})),He=p.forwardRef(Pe),Xe=()=>{const{language:n}=E(A),a=ne();p.useEffect(()=>{ae.send({hitType:"statistic",page:a.pathname})},[]);const{TOP_PLAYERS:s,DAMAGE_DECREASE:t,ZERO_DAMAGE:d,JINNI_COEF:o,FORMULA:r,WHERE:i,COUNT:m,DAMAGE:g,AVERAGE_DAMAGE:x,AVERAGE_COUNT:h,SMALL:u,MEDIUM:D,HARD:I}=j(n),{GROW:G}=M(n),$=p.useMemo(()=>[{title:G,value:e.jsx(Ee,{})},{title:s,value:e.jsx(ye,{})},{title:t,value:e.jsx(Ce,{})},{title:d,value:e.jsx(Ne,{})},{title:e.jsxs(p.Fragment,{children:[o,e.jsx(re,{title:e.jsx(Z,{children:e.jsxs("li",{children:[r,e.jsxs(Ze,{children:["G=",e.jsxs("span",{children:[e.jsxs("div",{children:["Σ",e.jsx("sub",{children:"i=1"}),e.jsx("sup",{className:"top-el",children:"n"})]}),e.jsxs("div",{children:["Σ",e.jsx("sub",{children:"j=1"}),e.jsx("sup",{className:"top-el",children:"n"}),"|x",e.jsx("sub",{children:"i"})," - x",e.jsx("sub",{children:"j"}),"|"]})]}),"/",e.jsxs("span",{children:["2n",e.jsx("sup",{children:"2"}),"μ, ",i,":"]})]}),e.jsxs(Z,{children:[e.jsxs("li",{children:[e.jsx("b",{children:"n"})," ",m]}),e.jsxs("li",{children:[e.jsxs("b",{children:["x",e.jsx("sub",{children:"i"})]}),g," ",e.jsx("i",{children:"i"}),"."]}),e.jsxs("li",{children:[e.jsx("b",{children:"μ"})," ",x," (",e.jsx("i",{children:h}),")."]})]}),e.jsx("li",{children:u}),e.jsx("li",{children:D}),e.jsx("li",{children:I})]})}),children:e.jsx(Ue,{children:e.jsx(He,{})})})]}),value:e.jsx(Se,{})}],[G,s,t,d,o,r,i,m,g,x,h,u,D,I]);return e.jsxs(Oe,{children:[e.jsx(ie,{}),$.map(({title:k,value:Y},z)=>e.jsxs(p.Fragment,{children:[e.jsx(Ve,{children:k}),Y]},z))]})},Oe=l.div.withConfig({displayName:"StatisticView__Wrapper",componentId:"sc-wxsh5f-0"})(["height:100%;overflow:auto;padding:1rem 1rem 1.5rem;"]),Ve=l.div.withConfig({displayName:"StatisticView__Title",componentId:"sc-wxsh5f-1"})(["",";margin:1rem;display:flex;align-items:center;"],se),Z=l.ul.withConfig({displayName:"StatisticView__List",componentId:"sc-wxsh5f-2"})(["padding:0 0 0 1rem;& + li{margin:0.5rem 0;}"]),Ue=l(te).withConfig({displayName:"StatisticView__Hint",componentId:"sc-wxsh5f-3"})(["&.MuiSvgIcon-root{cursor:pointer;fill:",";height:1rem;width:1rem;margin-left:0.5rem;animation:pulse 5s infinite;}"],({theme:n})=>n.colors.blue090),Ze=l.div.withConfig({displayName:"StatisticView__Formula",componentId:"sc-wxsh5f-4"})(["font-family:'Courier New',Courier,monospace;display:flex;flex-direction:row;align-items:center;span{margin:0.2rem 0;display:flex;.top-el{position:relative;right:14px;}}"]);export{Xe as default};
